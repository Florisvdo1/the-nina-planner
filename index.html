<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Emoji Day Planner</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Styles -->
    <style>
        /* Global Styles */
        body {
            margin: 0;
            font-family: 'Comic Sans MS', 'Arial', sans-serif;
            transition: background-color 0.3s, color 0.3s;
            background-color: #ffffff;
            color: #000000;
            overflow: hidden;
            -webkit-user-select: none;
            user-select: none;
        }
        .dark-mode {
            background-color: #121212;
            color: #ffffff;
        }
        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #fff;
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 10px 20px;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        .dark-mode .header {
            background-color: #1e1e1e;
        }
        /* Clock Display */
        .clock-display {
            position: absolute;
            left: 20px;
            display: flex;
            align-items: center;
            font-size: 24px;
            font-weight: bold;
        }
        .clock-icon {
            margin-right: 8px;
            font-size: 28px;
        }
        /* Sticky Button */
        .sticky-button {
            background-color: #007bff;
            color: #fff;
            border: 6px solid #ffd700;
            border-radius: 12px;
            padding: 10px 20px;
            font-size: 18px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 123, 255, 0.3);
            text-decoration: none;
            display: flex;
            align-items: center;
            margin-right: 6px;
        }
        .sticky-button:hover {
            background-color: #0056b3;
        }
        .dark-mode .sticky-button {
            background-color: #0056b3;
        }
        /* Theme Toggle */
        .theme-toggle {
            position: absolute;
            right: 20px;
            cursor: pointer;
            background-color: transparent;
            border: none;
            font-size: 28px;
            outline: none;
            z-index: 1001;
        }
        /* Planner Grid */
        .planner {
            position: absolute;
            top: 70px;
            bottom: 0;
            left: 0;
            right: 0;
            overflow-y: auto;
            display: grid;
            grid-template-columns: 1fr;
            grid-auto-rows: 80px;
            padding-bottom: 100px;
            -webkit-overflow-scrolling: touch;
        }
        .time-slot {
            border-bottom: 1px solid #ccc;
            position: relative;
            padding-left: 60px;
            box-sizing: border-box;
            background: linear-gradient(135deg, #6baed6, #4292c6);
            box-shadow: inset 0 2px 4px rgba(0, 0, 0, 0.1);
            background-size: cover;
        }
        .dark-mode .time-slot {
            background: linear-gradient(135deg, #4a89ac, #346b91);
        }
        .time-label {
            position: absolute;
            left: 10px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 14px;
            font-weight: bold;
            color: #ffffff;
        }
        .placeholder-container {
            display: flex;
            align-items: center;
            justify-content: space-around;
            height: 100%;
            padding: 0 10px;
        }
        .placeholder {
            width: 50px;
            height: 50px;
            border: 2px dashed #ccc;
            border-radius: 10px;
            position: relative;
            transition: border-color 0.2s;
            overflow: hidden; /* Ensure emojis don't overflow */
        }
        .placeholder.highlight {
            border-color: #ff9800;
        }
        .emoji {
            width: 100%;
            height: 100%;
            font-size: 32px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: absolute;
            top: 0;
            left: 0;
        }
        /* Control Buttons */
        .control-buttons {
            position: fixed;
            bottom: 20px;
            left: 20px;
            right: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }
        .control-button {
            background-color: #007bff;
            color: #ffffff;
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            cursor: pointer;
            outline: none;
            box-shadow: 0 4px 6px rgba(0, 123, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
        }
        .dark-mode .control-button {
            background-color: #0056b3;
        }
        /* Emoji Palette */
        .emoji-palette {
            display: flex;
            flex-direction: column;
            padding: 10px;
            background-color: #f0f0f0;
            position: fixed;
            bottom: 100px;
            right: 20px;
            width: 320px;
            max-height: 400px;
            overflow-y: auto;
            border: 2px solid #ccc;
            border-radius: 10px;
            z-index: 1500;
            -webkit-overflow-scrolling: touch;
        }
        .dark-mode .emoji-palette {
            background-color: #222222;
            color: #ffffff;
            border-color: #444444;
        }
        .emoji-palette .category {
            margin-bottom: 10px;
        }
        .emoji-palette .category-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 16px;
        }
        .emoji-palette .emoji-option {
            font-size: 32px;
            margin: 5px;
            cursor: pointer;
            display: inline-block;
            touch-action: none;
        }
        .hidden {
            display: none;
        }
        /* Responsive Design */
        @media (min-width: 600px) {
            .planner {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        @media (min-width: 900px) {
            .planner {
                grid-template-columns: repeat(3, 1fr);
            }
        }
    </style>
</head>
<body>
    <!-- Header with Clock and Sticky Button -->
    <div class="header">
        <!-- Clock Display -->
        <div class="clock-display" id="clockDisplay">
            <div class="clock-icon">üïí</div>
            <div id="currentTime">Loading...</div>
        </div>
        <!-- Sticky Button -->
        <a href="#" class="sticky-button" id="stickyButton">Plan My Day</a>
        <!-- Theme Toggle -->
        <button class="theme-toggle" id="themeToggle">üåì</button>
    </div>

    <!-- Planner Grid -->
    <div class="planner" id="planner">
        <!-- Time Slots will be generated here -->
    </div>

    <!-- Control Buttons -->
    <div class="control-buttons">
        <!-- Undo Button -->
        <button class="control-button" id="undoBtn">‚Ü∫</button>
        <!-- Arrow Up Button -->
        <button class="control-button" id="arrowUpBtn">‚¨ÜÔ∏è</button>
        <!-- Arrow Down Button -->
        <button class="control-button" id="arrowDownBtn">‚¨áÔ∏è</button>
        <!-- Add Task Button -->
        <button class="control-button" id="addTaskBtn">+</button>
    </div>

    <!-- Emoji Palette -->
    <div class="emoji-palette hidden" id="emojiPalette">
        <!-- Emojis will be populated here -->
    </div>

    <!-- Scripts -->
    <script>
        // Clock Display
        function updateTime() {
            const clockDisplay = document.getElementById('currentTime');
            const now = new Date();
            // Convert to Amsterdam time
            const amsterdamTime = new Date(now.toLocaleString("en-US", { timeZone: "Europe/Amsterdam" }));
            const hours = amsterdamTime.getHours().toString().padStart(2, '0');
            const minutes = amsterdamTime.getMinutes().toString().padStart(2, '0');
            const seconds = amsterdamTime.getSeconds().toString().padStart(2, '0');
            clockDisplay.textContent = `${hours}:${minutes}:${seconds}`;
        }
        setInterval(updateTime, 1000);
        updateTime();

        // Planner Initialization
        const planner = document.getElementById('planner');
        const timeSlots = [
            '07:00', '08:00', '09:00', '10:00', '11:00', '12:00',
            '13:00', '14:00', '15:00', '16:00', '17:00', '18:00',
            '19:00', '20:00', '21:00', '22:00', '23:00', '23:59'
        ];
        timeSlots.forEach(time => {
            const slot = document.createElement('div');
            slot.className = 'time-slot';
            slot.dataset.time = time;
            const label = document.createElement('div');
            label.className = 'time-label';
            label.textContent = time;
            slot.appendChild(label);
            // Create placeholders
            const placeholderContainer = document.createElement('div');
            placeholderContainer.className = 'placeholder-container';
            for (let i = 0; i < 4; i++) {
                const placeholder = document.createElement('div');
                placeholder.className = 'placeholder';
                placeholder.dataset.index = i;
                placeholder.addEventListener('touchstart', preventDefault, { passive: false });
                placeholderContainer.appendChild(placeholder);
            }
            slot.appendChild(placeholderContainer);
            planner.appendChild(slot);
        });

        // Emoji Palette
        const emojiPalette = document.getElementById('emojiPalette');
        const emojiCategories = {
            'Smileys & Emotion': ['üòÄ','üòÉ','üòÑ','üòÅ','üòÜ','üòÖ','üòÇ','ü§£','üòä','üòá','üôÇ','üôÉ','üòâ','üòå','üòç','ü•∞','üòò','üòó','üòô','üòö','üòã','üòõ','üòú','ü§™','üòù','ü§ë','ü§ó','ü§≠','ü§´','ü§î','ü§ê','ü§®','üòê','üòë','üò∂','üòè','üòí','üôÑ','üò¨','ü§•','üòå','üòî','üò™','ü§§','üò¥','üò∑','ü§í','ü§ï','ü§¢','ü§Æ','ü§ß','ü•µ','ü•∂','ü•¥','üòµ','ü§Ø','ü§†','ü•≥','üòé','ü§ì','üßê','üòï','üòü','üôÅ','‚òπÔ∏è','üòÆ','üòØ','üò≤','üò≥','ü•∫','üò¶','üòß','üò®','üò∞','üò•','üò¢','üò≠','üò±','üòñ','üò£','üòû','üòì','üò©','üò´','üò§','üò°','üò†','ü§¨','üòà','üëø','üíÄ','‚ò†Ô∏è','üí©','ü§°','üëπ','üë∫','üëª','üëΩ','üëæ','ü§ñ','üéÉ','üò∫','üò∏','üòπ','üòª','üòº','üòΩ','üôÄ','üòø','üòæ'],
            'People & Body': ['üë∂','üßí','üë¶','üëß','üßë','üë±','üë®','üßî','üë©','üë®‚Äçü¶∞','üë©‚Äçü¶∞','üë®‚Äçü¶±','üë©‚Äçü¶±','üë®‚Äçü¶≥','üë©‚Äçü¶≥','üë®‚Äçü¶≤','üë©‚Äçü¶≤','üë±‚Äç‚ôÇÔ∏è','üë±‚Äç‚ôÄÔ∏è','üßì','üë¥','üëµ','üôç','üôç‚Äç‚ôÇÔ∏è','üôç‚Äç‚ôÄÔ∏è','üôé','üôé‚Äç‚ôÇÔ∏è','üôé‚Äç‚ôÄÔ∏è','üôÖ','üôÖ‚Äç‚ôÇÔ∏è','üôÖ‚Äç‚ôÄÔ∏è','üôÜ','üôÜ‚Äç‚ôÇÔ∏è','üôÜ‚Äç‚ôÄÔ∏è','üíÅ','üíÅ‚Äç‚ôÇÔ∏è','üíÅ‚Äç‚ôÄÔ∏è','üôã','üôã‚Äç‚ôÇÔ∏è','üôã‚Äç‚ôÄÔ∏è','üßè','üßè‚Äç‚ôÇÔ∏è','üßè‚Äç‚ôÄÔ∏è','üôá','üôá‚Äç‚ôÇÔ∏è','üôá‚Äç‚ôÄÔ∏è','ü§¶','ü§¶‚Äç‚ôÇÔ∏è','ü§¶‚Äç‚ôÄÔ∏è','ü§∑','ü§∑‚Äç‚ôÇÔ∏è','ü§∑‚Äç‚ôÄÔ∏è','üë®‚Äç‚öïÔ∏è','üë©‚Äç‚öïÔ∏è','üë®‚Äçüéì','üë©‚Äçüéì','üë®‚Äçüè´','üë©‚Äçüè´','üë®‚Äç‚öñÔ∏è','üë©‚Äç‚öñÔ∏è','üë®‚Äçüåæ','üë©‚Äçüåæ','üë®‚Äçüç≥','üë©‚Äçüç≥','üë®‚Äçüîß','üë©‚Äçüîß','üë®‚Äçüè≠','üë©‚Äçüè≠','üë®‚Äçüíº','üë©‚Äçüíº','üë®‚Äçüî¨','üë©‚Äçüî¨','üë®‚Äçüíª','üë©‚Äçüíª','üë®‚Äçüé§','üë©‚Äçüé§','üë®‚Äçüé®','üë©‚Äçüé®','üë®‚Äç‚úàÔ∏è','üë©‚Äç‚úàÔ∏è','üë®‚ÄçüöÄ','üë©‚ÄçüöÄ','üë®‚Äçüöí','üë©‚Äçüöí','üëÆ','üëÆ‚Äç‚ôÇÔ∏è','üëÆ‚Äç‚ôÄÔ∏è','üïµÔ∏è','üïµÔ∏è‚Äç‚ôÇÔ∏è','üïµÔ∏è‚Äç‚ôÄÔ∏è','üíÇ','üíÇ‚Äç‚ôÇÔ∏è','üíÇ‚Äç‚ôÄÔ∏è','üë∑','üë∑‚Äç‚ôÇÔ∏è','üë∑‚Äç‚ôÄÔ∏è','ü§¥','üë∏','üë≥','üë≥‚Äç‚ôÇÔ∏è','üë≥‚Äç‚ôÄÔ∏è','üë≤','üßï','ü§µ','üë∞','ü§∞','ü§±','üë©‚Äçüçº','üë®‚Äçüçº','üßë‚Äçüçº','üëº','üéÖ','ü§∂','üßë‚ÄçüéÑ','ü¶∏','ü¶∏‚Äç‚ôÇÔ∏è','ü¶∏‚Äç‚ôÄÔ∏è','ü¶π','ü¶π‚Äç‚ôÇÔ∏è','ü¶π‚Äç‚ôÄÔ∏è','üßô','üßô‚Äç‚ôÇÔ∏è','üßô‚Äç‚ôÄÔ∏è','üßö','üßö‚Äç‚ôÇÔ∏è','üßö‚Äç‚ôÄÔ∏è','üßõ','üßõ‚Äç‚ôÇÔ∏è','üßõ‚Äç‚ôÄÔ∏è','üßú','üßú‚Äç‚ôÇÔ∏è','üßú‚Äç‚ôÄÔ∏è','üßù','üßù‚Äç‚ôÇÔ∏è','üßù‚Äç‚ôÄÔ∏è','üßû','üßû‚Äç‚ôÇÔ∏è','üßû‚Äç‚ôÄÔ∏è','üßü','üßü‚Äç‚ôÇÔ∏è','üßü‚Äç‚ôÄÔ∏è','üíÜ','üíÜ‚Äç‚ôÇÔ∏è','üíÜ‚Äç‚ôÄÔ∏è','üíá','üíá‚Äç‚ôÇÔ∏è','üíá‚Äç‚ôÄÔ∏è','üö∂','üö∂‚Äç‚ôÇÔ∏è','üö∂‚Äç‚ôÄÔ∏è','üßç','üßç‚Äç‚ôÇÔ∏è','üßç‚Äç‚ôÄÔ∏è','üßé','üßé‚Äç‚ôÇÔ∏è','üßé‚Äç‚ôÄÔ∏è','üßë‚Äçü¶Ø','üë®‚Äçü¶Ø','üë©‚Äçü¶Ø','üßë‚Äçü¶º','üë®‚Äçü¶º','üë©‚Äçü¶º','üßë‚Äçü¶Ω','üë®‚Äçü¶Ω','üë©‚Äçü¶Ω','üèÉ','üèÉ‚Äç‚ôÇÔ∏è','üèÉ‚Äç‚ôÄÔ∏è','üíÉ','üï∫','üï¥Ô∏è','üëØ','üëØ‚Äç‚ôÇÔ∏è','üëØ‚Äç‚ôÄÔ∏è','üßñ','üßñ‚Äç‚ôÇÔ∏è','üßñ‚Äç‚ôÄÔ∏è','üßó','üßó‚Äç‚ôÇÔ∏è','üßó‚Äç‚ôÄÔ∏è','ü§∫','üèá','‚õ∑Ô∏è','üèÇ','üèåÔ∏è','üèåÔ∏è‚Äç‚ôÇÔ∏è','üèåÔ∏è‚Äç‚ôÄÔ∏è','üèÑ','üèÑ‚Äç‚ôÇÔ∏è','üèÑ‚Äç‚ôÄÔ∏è','üö£','üö£‚Äç‚ôÇÔ∏è','üö£‚Äç‚ôÄÔ∏è','üèä','üèä‚Äç‚ôÇÔ∏è','üèä‚Äç‚ôÄÔ∏è','‚õπÔ∏è','‚õπÔ∏è‚Äç‚ôÇÔ∏è','‚õπÔ∏è‚Äç‚ôÄÔ∏è','üèãÔ∏è','üèãÔ∏è‚Äç‚ôÇÔ∏è','üèãÔ∏è‚Äç‚ôÄÔ∏è','üö¥','üö¥‚Äç‚ôÇÔ∏è','üö¥‚Äç‚ôÄÔ∏è','üöµ','üöµ‚Äç‚ôÇÔ∏è','üöµ‚Äç‚ôÄÔ∏è','ü§∏','ü§∏‚Äç‚ôÇÔ∏è','ü§∏‚Äç‚ôÄÔ∏è','ü§º','ü§º‚Äç‚ôÇÔ∏è','ü§º‚Äç‚ôÄÔ∏è','ü§Ω','ü§Ω‚Äç‚ôÇÔ∏è','ü§Ω‚Äç‚ôÄÔ∏è','ü§æ','ü§æ‚Äç‚ôÇÔ∏è','ü§æ‚Äç‚ôÄÔ∏è','ü§π','ü§π‚Äç‚ôÇÔ∏è','ü§π‚Äç‚ôÄÔ∏è'],
            'Animals & Nature': ['üê∂','üê±','üê≠','üêπ','üê∞','ü¶ä','ü¶ù','üêª','üêº','ü¶ò','ü¶°','üê®','üêØ','ü¶Å','üêÆ','üê∑','üêΩ','üê∏','üêµ','üôà','üôâ','üôä','üêí','üêî','üêß','üê¶','üê§','üê£','üê•','ü¶Ü','ü¶Ö','ü¶â','ü¶á','üê∫','üêó','üê¥','ü¶Ñ','üêù','üêõ','ü¶ã','üêå','üêû','üêú','ü¶ó','üï∑Ô∏è','üï∏Ô∏è','ü¶Ç','üê¢','üêç','ü¶é','ü¶ñ','ü¶ï','üêô','ü¶ë','ü¶ê','ü¶û','ü¶Ä','üê°','üê†','üêü','üê¨','üê≥','üêã','ü¶à','üêä','üêÖ','üêÜ','ü¶ì','ü¶ç','üêò','ü¶è','ü¶õ','üê™','üê´','ü¶ô','ü¶í','üêÉ','üêÇ','üêÑ','üêé','üêñ','üêè','üêë','üêê','ü¶å','üêï','üê©','üêà','üêì','ü¶É','üïäÔ∏è','üêá','üêÅ','üêÄ','üêøÔ∏è','ü¶î','üêæ','üêâ','üê≤','üåµ','üéÑ','üå≤','üå≥','üå¥','üå±','üåø','‚òòÔ∏è','üçÄ','üéç','üéã','üçÉ','üçÇ','üçÅ','üçÑ','üåæ','üíê','üå∑','üåπ','ü•Ä','üå∫','üå∏','üåº','üåª','üåû','üåù','üåõ','üåú','üåö','üåï','üåñ','üåó','üåò','üåë','üåí','üåì','üåî','üåô','üåé','üåç','üåè','üí´','‚≠ê','üåü','‚ú®','‚ö°','‚òÑÔ∏è','üí•','üî•','üå™Ô∏è','üåà','‚òÄÔ∏è','üå§Ô∏è','‚õÖ','üå•Ô∏è','‚òÅÔ∏è','üå¶Ô∏è','üåßÔ∏è','‚õàÔ∏è','üå©Ô∏è','üå®Ô∏è','‚ùÑÔ∏è','‚òÉÔ∏è','‚õÑ','üå¨Ô∏è','üí®','üå´Ô∏è','üåä','üíß','üí¶','‚òî'],
            'Food & Drink': ['üçè','üçé','üçê','üçä','üçã','üçå','üçâ','üçá','üçì','ü´ê','üçà','üçí','üçë','ü•≠','üçç','ü••','ü•ù','üçÖ','üçÜ','ü•ë','ü•¶','ü•¨','ü•í','üå∂Ô∏è','üåΩ','ü•ï','üßÑ','üßÖ','ü•î','üç†','ü•ê','üçû','ü•ñ','ü•®','ü•Ø','ü•û','üßá','üßÄ','üçñ','üçó','ü•©','ü•ì','üçî','üçü','üçï','üå≠','ü•™','üåÆ','üåØ','ü•ô','üßÜ','ü•ö','üç≥','ü•ò','üç≤','ü•£','ü•ó','üçø','üßà','üßÇ','ü•´','üç±','üçò','üçô','üçö','üçõ','üçú','üçù','üç†','üç¢','üç£','üç§','üç•','ü•Æ','üç°','ü•ü','ü•†','ü•°','üç¶','üçß','üç®','üç©','üç™','üéÇ','üç∞','üßÅ','ü•ß','üç´','üç¨','üç≠','üçÆ','üçØ','üçº','ü•õ','‚òï','üçµ','üç∂','üçæ','üç∑','üç∏','üçπ','üç∫','üçª','ü•Ç','ü•É','ü•§','üßÉ','üßâ','üßä','ü•¢','üçΩÔ∏è','üç¥','ü•Ñ'],
            'Travel & Places': ['üöó','üöï','üöô','üöå','üöé','üèéÔ∏è','üöì','üöë','üöí','üöê','üöö','üöõ','üöú','üõ¥','üö≤','üõµ','üèçÔ∏è','üõ∫','üö®','üöî','üöç','üöò','üöñ','üö°','üö†','üöü','üöÉ','üöã','üöû','üöù','üöÑ','üöÖ','üöà','üöÇ','üöÜ','üöá','üöä','üöâ','‚úàÔ∏è','üõ´','üõ¨','üõ©Ô∏è','üí∫','üõ∞Ô∏è','üöÄ','üõ∏','üöÅ','üõ∂','‚õµ','üö§','üõ•Ô∏è','üõ≥Ô∏è','‚õ¥Ô∏è','üö¢','‚öì','üõü','‚õΩ','üöß','üö¶','üö•','üöè','üó∫Ô∏è','üóø','üóΩ','üóº','üè∞','üèØ','üèüÔ∏è','üé°','üé¢','üé†','‚õ≤','‚õ±Ô∏è','üèñÔ∏è','üèùÔ∏è','üèúÔ∏è','üåã','‚õ∞Ô∏è','üèîÔ∏è','üóª','üèïÔ∏è','‚õ∫','üè†','üè°','üèòÔ∏è','üèöÔ∏è','üèóÔ∏è','üè≠','üè¢','üè¨','üè£','üè§','üè•','üè¶','üè®','üè™','üè´','üè©','üíí','üèõÔ∏è','‚õ™','üïå','üõï','üïç','üïã','‚õ©Ô∏è','üõ§Ô∏è','üõ£Ô∏è','üóæ','üéë','üèûÔ∏è','üåÖ','üåÑ','üå†','üéá','üéÜ','üåá','üåÜ','üèôÔ∏è','üåÉ','üåå','üåâ','üåÅ'],
            'Activities': ['‚öΩ','üèÄ','üèà','‚öæ','üéæ','üèê','üèâ','ü•è','üé±','ü™Ä','üèì','üè∏','üèí','üèë','ü•ç','üèè','‚õ≥','ü™Å','üèπ','üé£','ü•ä','ü•ã','üéΩ','üõπ','üõº','üõ∑','‚õ∏Ô∏è','ü•å','üéø','‚õ∑Ô∏è','üèÇ','ü™Ç','üèãÔ∏è','üèãÔ∏è‚Äç‚ôÇÔ∏è','üèãÔ∏è‚Äç‚ôÄÔ∏è','ü§º','ü§º‚Äç‚ôÇÔ∏è','ü§º‚Äç‚ôÄÔ∏è','ü§∏','ü§∏‚Äç‚ôÇÔ∏è','ü§∏‚Äç‚ôÄÔ∏è','‚õπÔ∏è','‚õπÔ∏è‚Äç‚ôÇÔ∏è','‚õπÔ∏è‚Äç‚ôÄÔ∏è','ü§∫','ü§æ','ü§æ‚Äç‚ôÇÔ∏è','ü§æ‚Äç‚ôÄÔ∏è','üèåÔ∏è','üèåÔ∏è‚Äç‚ôÇÔ∏è','üèåÔ∏è‚Äç‚ôÄÔ∏è','üèá','üßò','üßò‚Äç‚ôÇÔ∏è','üßò‚Äç‚ôÄÔ∏è','üèÑ','üèÑ‚Äç‚ôÇÔ∏è','üèÑ‚Äç‚ôÄÔ∏è','üèä','üèä‚Äç‚ôÇÔ∏è','üèä‚Äç‚ôÄÔ∏è','ü§Ω','ü§Ω‚Äç‚ôÇÔ∏è','ü§Ω‚Äç‚ôÄÔ∏è','üö£','üö£‚Äç‚ôÇÔ∏è','üö£‚Äç‚ôÄÔ∏è','üßó','üßó‚Äç‚ôÇÔ∏è','üßó‚Äç‚ôÄÔ∏è','üöµ','üöµ‚Äç‚ôÇÔ∏è','üöµ‚Äç‚ôÄÔ∏è','üö¥','üö¥‚Äç‚ôÇÔ∏è','üö¥‚Äç‚ôÄÔ∏è','üèÜ','ü•á','ü•à','ü•â','üèÖ','üéñÔ∏è','üèµÔ∏è','üéóÔ∏è','üé´','üéüÔ∏è','üé™','ü§π','ü§π‚Äç‚ôÇÔ∏è','ü§π‚Äç‚ôÄÔ∏è','üé≠','ü©∞','üé®','üé¨','üé§','üéß','üéº','üéπ','ü•Å','ü™ò','üé∑','üé∫','üé∏','ü™ï','üéª','üé≤','‚ôüÔ∏è','üéØ','üé≥','üéÆ','üïπÔ∏è','üé∞','üé¥','üÉè','üÄÑ','üé†','üé°','üé¢'],
            'Objects': ['‚åö','üì±','üì≤','üíª','‚å®Ô∏è','üñ•Ô∏è','üñ®Ô∏è','üñ±Ô∏è','üñ≤Ô∏è','üïπÔ∏è','üóúÔ∏è','üíΩ','üíæ','üíø','üìÄ','üìº','üì∑','üì∏','üìπ','üé•','üìΩÔ∏è','üéûÔ∏è','üìû','‚òéÔ∏è','üìü','üì†','üì∫','üìª','üéôÔ∏è','üéöÔ∏è','üéõÔ∏è','‚è±Ô∏è','‚è≤Ô∏è','‚è∞','üï∞Ô∏è','‚åõ','‚è≥','üì°','üîã','üîå','üí°','üî¶','üïØÔ∏è','ü™î','üîÆ','üíé','‚öñÔ∏è','ü¶Ø','üîó','‚õìÔ∏è','ü™ù','üß∞','üß≤','‚öóÔ∏è','üß™','üß´','üß¨','üî¨','üî≠','üì°','üíâ','ü©∏','üíä','ü©π','ü©∫','üö™','üõèÔ∏è','üõãÔ∏è','ü™ë','üöΩ','üöø','üõÅ','ü™û','ü™†','üß¥','üß∑','üßπ','üß∫','üßª','üßº','ü™£','üßΩ','üßØ','üõí','üö¨','‚ö∞Ô∏è','‚ö±Ô∏è','üè∫','üìØ','üìú','üìÉ','üìÑ','üìë','üìä','üìà','üìâ','üóíÔ∏è','üóìÔ∏è','üìÜ','üìÖ','üìá','üóÉÔ∏è','üó≥Ô∏è','üóÑÔ∏è','üìã','üìÅ','üìÇ','üóÇÔ∏è','üóûÔ∏è','üì∞','üìì','üìî','üìí','üìï','üìó','üìò','üìô','üìö','üìñ','üîñ','üîó','üìé','üñáÔ∏è','üìê','üìè','üìå','üìç','‚úÇÔ∏è','üñäÔ∏è','üñãÔ∏è','‚úíÔ∏è','üñåÔ∏è','üñçÔ∏è','üìù','üíº','üìÅ','üìÇ','üóÇÔ∏è','üìÖ','üìÜ','üóìÔ∏è','üìá','üóÉÔ∏è','üó≥Ô∏è','üóÑÔ∏è','üìã','üìú','üìÉ','üìÑ'],
            'Symbols': ['‚ù§Ô∏è','üß°','üíõ','üíö','üíô','üíú','ü§é','üñ§','ü§ç','üíî','‚ù£Ô∏è','üíï','üíû','üíì','üíó','üíñ','üíò','üíù','üíü','‚òÆÔ∏è','‚úùÔ∏è','‚ò™Ô∏è','üïâÔ∏è','‚ò∏Ô∏è','‚ú°Ô∏è','üîØ','üïé','‚òØÔ∏è','‚ò¶Ô∏è','üõê','‚õé','‚ôà','‚ôâ','‚ôä','‚ôã','‚ôå','‚ôç','‚ôé','‚ôè','‚ôê','‚ôë','‚ôí','‚ôì','üÜî','‚öõÔ∏è','üâë','‚ò¢Ô∏è','‚ò£Ô∏è','üì¥','üì≥','üà∂','üàö','üà∏','üà∫','üà∑Ô∏è','‚ú¥Ô∏è','üÜö','üíÆ','üâê','„äôÔ∏è','„äóÔ∏è','üà¥','üàµ','üàπ','üà≤','üÖ∞Ô∏è','üÖ±Ô∏è','üÜé','üÜë','üÖæÔ∏è','üÜò','‚ùå','‚≠ï','üõë','‚õî','üìõ','üö´','üíØ','üí¢','‚ô®Ô∏è','üö∑','üöØ','üö≥','üö±','üîû','üìµ','üö≠','‚ùó','‚ùï','‚ùì','‚ùî','‚ÄºÔ∏è','‚ÅâÔ∏è','üîÖ','üîÜ','„ÄΩÔ∏è','‚ö†Ô∏è','üö∏','üî±','‚öúÔ∏è','üî∞','‚ôªÔ∏è','‚úÖ','üàØ','üíπ','‚ùáÔ∏è','‚ú≥Ô∏è','‚ùé','üåê','üí†','‚ìÇÔ∏è','üåÄ','üí§','üèß','üöæ','‚ôø','üÖøÔ∏è','üà≥','üàÇÔ∏è','üõÇ','üõÉ','üõÑ','üõÖ','üöπ','üö∫','üöº','üöª','üöÆ','üé¶','üì∂','üàÅ','üî£','‚ÑπÔ∏è','üî§','üî°','üî†','üÜñ','üÜó','üÜô','üÜí','üÜï','üÜì','0Ô∏è‚É£','1Ô∏è‚É£','2Ô∏è‚É£','3Ô∏è‚É£','4Ô∏è‚É£','5Ô∏è‚É£','6Ô∏è‚É£','7Ô∏è‚É£','8Ô∏è‚É£','9Ô∏è‚É£','üîü','üî¢','#Ô∏è‚É£','*Ô∏è‚É£','‚èèÔ∏è','‚ñ∂Ô∏è','‚è∏Ô∏è','‚èØÔ∏è','‚èπÔ∏è','‚è∫Ô∏è','‚è≠Ô∏è','‚èÆÔ∏è','‚è©','‚è™','‚è´','‚è¨','‚óÄÔ∏è','üîº','üîΩ','‚û°Ô∏è','‚¨ÖÔ∏è','‚¨ÜÔ∏è','‚¨áÔ∏è','‚ÜóÔ∏è','‚ÜòÔ∏è','‚ÜñÔ∏è','‚ÜôÔ∏è','‚ÜîÔ∏è','‚ÜïÔ∏è','üîÑ','‚Ü™Ô∏è','‚Ü©Ô∏è','‚§¥Ô∏è','‚§µÔ∏è','üîÄ','üîÅ','üîÇ','üîÉ','üÜó','üîº','üîΩ','üîÉ','üîù','üîö','üîô','üîõ','üîú'],
            'Flags': ['üè≥Ô∏è','üè¥','üèÅ','üö©','üè≥Ô∏è‚Äçüåà','üè≥Ô∏è‚Äç‚ößÔ∏è','üá¶üá®','üá¶üá©','üá¶üá™','üá¶üá´','üá¶üá¨','üá¶üáÆ','üá¶üá±','üá¶üá≤','üá¶üá¥','üá¶üá∂','üá¶üá∑','üá¶üá∏','üá¶üáπ','üá¶üá∫','üá¶üáº','üá¶üáΩ','üá¶üáø','üáßüá¶','üáßüáß','üáßüá©','üáßüá™','üáßüá´','üáßüá¨','üáßüá≠','üáßüáÆ','üáßüáØ','üáßüá±','üáßüá≤','üáßüá≥','üáßüá¥','üáßüá∂','üáßüá∑','üáßüá∏','üáßüáπ','üáßüáª','üáßüáº','üáßüáæ','üáßüáø','üá®üá¶','üá®üá®','üá®üá©','üá®üá´','üá®üá¨','üá®üá≠','üá®üáÆ','üá®üá∞','üá®üá±','üá®üá≤','üá®üá≥','üá®üá¥','üá®üá∑','üá®üá∫','üá®üáª','üá®üáº','üá®üáΩ','üá®üáæ','üá®üáø','üá©üá™','üá©üáØ','üá©üá∞','üá©üá≤','üá©üá¥','üá©üáø','üá™üá®','üá™üá™','üá™üá¨','üá™üá≠','üá™üá∑','üá™üá∏','üá™üáπ','üá™üá∫','üá´üáÆ','üá´üáØ','üá´üá∞','üá´üá≤','üá´üá¥','üá´üá∑','üá¨üá¶','üá¨üáß','üá¨üá©','üá¨üá™','üá¨üá´','üá¨üá¨','üá¨üá≠','üá¨üáÆ','üá¨üá±','üá¨üá≤','üá¨üá≥','üá¨üáµ','üá¨üá∂','üá¨üá∑','üá¨üá∏','üá¨üáπ','üá¨üá∫','üá¨üáº','üá¨üáæ','üá≠üá∞','üá≠üá≤','üá≠üá≥','üá≠üá∑','üá≠üáπ','üá≠üá∫','üáÆüá®','üáÆüá©','üáÆüá™','üáÆüá±','üáÆüá≤','üáÆüá≥','üáÆüá¥','üáÆüá∂','üáÆüá∑','üáÆüá∏','üáÆüáπ','üáØüá™','üáØüá≤','üáØüá¥','üáØüáµ','üéå','üá∞üá™','üá∞üá¨','üá∞üá≠','üá∞üáÆ','üá∞üá≤','üá∞üá≥','üá∞üáµ','üá∞üá∑','üá∞üáº','üá∞üáæ','üá∞üáø','üá±üá¶','üá±üáß','üá±üá®','üá±üáÆ','üá±üá∞','üá±üá∑','üá±üá∏','üá±üáπ','üá±üá∫','üá±üáª','üá±üáæ','üá≤üá¶','üá≤üá®','üá≤üá©','üá≤üá™','üá≤üá´','üá≤üá¨','üá≤üá≠','üá≤üá∞','üá≤üá±','üá≤üá≤','üá≤üá≥','üá≤üá¥','üá≤üáµ','üá≤üá∂','üá≤üá∑','üá≤üá∏','üá≤üáπ','üá≤üá∫','üá≤üáª','üá≤üáº','üá≤üáΩ','üá≤üáæ','üá≤üáø','üá≥üá¶','üá≥üá®','üá≥üá™','üá≥üá´','üá≥üá¨','üá≥üáÆ','üá≥üá±','üá≥üá¥','üá≥üáµ','üá≥üá∑','üá≥üá∫','üá≥üáø','üá¥üá≤','üáµüá¶','üáµüá™','üáµüá´','üáµüá¨','üáµüá≠','üáµüá∞','üáµüá±','üáµüá≤','üáµüá≥','üáµüá∑','üáµüá∏','üáµüáπ','üáµüáº','üáµüáæ','üá∂üá¶','üá∑üá™','üá∑üá¥','üá∑üá∏','üá∑üá∫','üá∑üáº','üá∏üá¶','üá∏üáß','üá∏üá®','üá∏üá©','üá∏üá™','üá∏üá¨','üá∏üá≠','üá∏üáÆ','üá∏üáØ','üá∏üá∞','üá∏üá±','üá∏üá≤','üá∏üá≥','üá∏üá¥','üá∏üá∑','üá∏üá∏','üá∏üáπ','üá∏üáª','üá∏üáΩ','üá∏üáæ','üá∏üáø','üáπüá¶','üáπüá®','üáπüá©','üáπüá´','üáπüá¨','üáπüá≠','üáπüáØ','üáπüá∞','üáπüá±','üáπüá≤','üáπüá≥','üáπüá¥','üáπüá∑','üáπüáπ','üáπüáª','üáπüáº','üáπüáø','üá∫üá¶','üá∫üá¨','üá∫üá≤','üá∫üá∏','üá∫üáæ','üá∫üáø','üáªüá¶','üáªüá®','üáªüá™','üáªüá¨','üáªüáÆ','üáªüá≥','üáªüá∫','üáºüá´','üáºüá∏','üáΩüá∞','üáæüá™','üáæüáπ','üáøüá¶','üáøüá≤','üáøüáº']
        };

        // Populate Emoji Palette
        for (const [category, emojis] of Object.entries(emojiCategories)) {
            const categoryDiv = document.createElement('div');
            categoryDiv.className = 'category';
            const title = document.createElement('div');
            title.className = 'category-title';
            title.textContent = category;
            categoryDiv.appendChild(title);
            emojis.forEach(emoji => {
                const emojiOption = document.createElement('div');
                emojiOption.className = 'emoji-option';
                emojiOption.textContent = emoji;
                emojiOption.addEventListener('touchstart', touchStartEmoji, { passive: false });
                emojiOption.addEventListener('mousedown', mouseStartEmoji);
                categoryDiv.appendChild(emojiOption);
            });
            emojiPalette.appendChild(categoryDiv);
        }

        // Add Task Button
        const addTaskBtn = document.getElementById('addTaskBtn');
        addTaskBtn.onclick = () => {
            emojiPalette.classList.toggle('hidden');
        };

        // Theme Toggle
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.onclick = () => {
            document.body.classList.toggle('dark-mode');
        };

        // Undo Functionality
        const undoBtn = document.getElementById('undoBtn');
        let undoStack = [];
        undoBtn.addEventListener('click', () => {
            if (undoStack.length > 0) {
                const lastAction = undoStack.pop();
                if (lastAction.parent.contains(lastAction.element)) {
                    lastAction.parent.removeChild(lastAction.element);
                }
            }
        });
        undoBtn.addEventListener('touchstart', (ev) => {
            ev.preventDefault();
            undoBtn.click();
        }, { passive: false });

        // Arrow Up and Arrow Down Buttons
        const arrowUpBtn = document.getElementById('arrowUpBtn');
        const arrowDownBtn = document.getElementById('arrowDownBtn');

        arrowUpBtn.addEventListener('click', () => {
            planner.scrollBy({
                top: -200,
                behavior: 'smooth'
            });
        });
        arrowUpBtn.addEventListener('touchstart', (ev) => {
            ev.preventDefault();
            arrowUpBtn.click();
        }, { passive: false });

        arrowDownBtn.addEventListener('click', () => {
            planner.scrollBy({
                top: 200,
                behavior: 'smooth'
            });
        });
        arrowDownBtn.addEventListener('touchstart', (ev) => {
            ev.preventDefault();
            arrowDownBtn.click();
        }, { passive: false });

        // Prevent Default Function
        function preventDefault(ev) {
            ev.preventDefault();
        }

        // Drag and Drop Functions
        let touchDraggedElement = null;

        function touchStartEmoji(ev) {
            ev.preventDefault();
            // Close the emoji palette
            emojiPalette.classList.add('hidden');

            const touch = ev.touches[0];
            touchDraggedElement = ev.currentTarget.cloneNode(true);
            touchDraggedElement.classList.add('emoji');
            touchDraggedElement.style.position = 'absolute';
            touchDraggedElement.style.pointerEvents = 'none';
            touchDraggedElement.style.zIndex = '2000';
            touchDraggedElement.style.transform = 'translate3d(0,0,0)';
            document.body.appendChild(touchDraggedElement);
            moveAt(touch.pageX, touch.pageY);

            function moveAt(pageX, pageY) {
                touchDraggedElement.style.left = pageX - touchDraggedElement.offsetWidth / 2 + 'px';
                touchDraggedElement.style.top = pageY - touchDraggedElement.offsetHeight / 2 + 'px';
            }

            let lastTouchMove = 0;
            function onTouchMove(ev) {
                ev.preventDefault();
                const now = Date.now();
                if (now - lastTouchMove > 10) {
                    const touch = ev.touches[0];
                    moveAt(touch.pageX, touch.pageY);
                    lastTouchMove = now;

                    // Highlight placeholders
                    const elem = document.elementFromPoint(touch.clientX, touch.clientY);
                    clearHighlights();
                    if (elem && elem.classList.contains('placeholder') && !elem.hasChildNodes()) {
                        elem.classList.add('highlight');
                    }
                }
            }
            document.addEventListener('touchmove', onTouchMove, { passive: false });
            touchDraggedElement.addEventListener('touchend', function(ev) {
                document.removeEventListener('touchmove', onTouchMove);
                touchDraggedElement.parentNode.removeChild(touchDraggedElement);
                const touch = ev.changedTouches[0];
                const elem = document.elementFromPoint(touch.clientX, touch.clientY);
                if (elem && elem.classList.contains('placeholder') && !elem.hasChildNodes()) {
                    const emojiElement = touchDraggedElement.cloneNode(true);
                    emojiElement.style.position = 'absolute';
                    emojiElement.style.left = '0';
                    emojiElement.style.top = '0';
                    emojiElement.style.pointerEvents = 'auto';
                    emojiElement.addEventListener('touchstart', touchStartEmoji, { passive: false });
                    elem.appendChild(emojiElement);
                    undoStack.push({ parent: elem, element: emojiElement });
                }
                clearHighlights();
            }, { once: true });
        }

        function mouseStartEmoji(ev) {
            ev.preventDefault();
            // Close the emoji palette
            emojiPalette.classList.add('hidden');

            const draggedElement = ev.currentTarget.cloneNode(true);
            draggedElement.classList.add('emoji');
            draggedElement.style.position = 'absolute';
            draggedElement.style.pointerEvents = 'none';
            draggedElement.style.zIndex = '2000';
            document.body.appendChild(draggedElement);
            moveAt(ev.pageX, ev.pageY);

            function moveAt(pageX, pageY) {
                draggedElement.style.left = pageX - draggedElement.offsetWidth / 2 + 'px';
                draggedElement.style.top = pageY - draggedElement.offsetHeight / 2 + 'px';
            }

            function onMouseMove(ev) {
                moveAt(ev.pageX, ev.pageY);
                // Highlight placeholders
                const elem = document.elementFromPoint(ev.clientX, ev.clientY);
                clearHighlights();
                if (elem && elem.classList.contains('placeholder') && !elem.hasChildNodes()) {
                    elem.classList.add('highlight');
                }
            }
            document.addEventListener('mousemove', onMouseMove);
            document.addEventListener('mouseup', function(ev) {
                document.removeEventListener('mousemove', onMouseMove);
                draggedElement.parentNode.removeChild(draggedElement);
                const elem = document.elementFromPoint(ev.clientX, ev.clientY);
                if (elem && elem.classList.contains('placeholder') && !elem.hasChildNodes()) {
                    const emojiElement = draggedElement.cloneNode(true);
                    emojiElement.style.position = 'absolute';
                    emojiElement.style.left = '0';
                    emojiElement.style.top = '0';
                    emojiElement.style.pointerEvents = 'auto';
                    emojiElement.addEventListener('mousedown', mouseStartEmoji);
                    elem.appendChild(emojiElement);
                    undoStack.push({ parent: elem, element: emojiElement });
                }
                clearHighlights();
            }, { once: true });
        }

        function clearHighlights() {
            const highlighted = document.querySelectorAll('.highlight');
            highlighted.forEach(elem => elem.classList.remove('highlight'));
        }

        // Hide Emoji Palette on Outside Click
        document.addEventListener('click', function(event) {
            if (!emojiPalette.contains(event.target) && !addTaskBtn.contains(event.target)) {
                emojiPalette.classList.add('hidden');
            }
        });
        document.addEventListener('touchstart', function(event) {
            if (!emojiPalette.contains(event.target) && !addTaskBtn.contains(event.target)) {
                emojiPalette.classList.add('hidden');
            }
        }, { passive: false });
    </script>
</body>
</html>
